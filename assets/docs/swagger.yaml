basePath: /
definitions:
  model.AliyunOssStsRes:
    properties:
      accessKeyId:
        type: string
      accessKeySecret:
        type: string
      bucket:
        type: string
      expiration:
        type: string
      region:
        type: string
      stsToken:
        type: string
    type: object
  model.BatteryModel:
    properties:
      capacity:
        type: number
      id:
        type: integer
      voltage:
        type: number
    type: object
  model.BatteryModelCreateReq:
    properties:
      capacity:
        description: '容量 '
        type: number
      voltage:
        description: '电压 '
        type: number
    required:
    - capacity
    - voltage
    type: object
  model.BranchContract:
    properties:
      area:
        description: '网点面积 '
        type: number
      bankNumber:
        description: '房东银行卡号 '
        type: string
      electricity:
        description: '电费单价 '
        type: number
      electricityPledge:
        description: '电费押金 '
        type: number
      endTime:
        description: '租期结束时间 '
        type: string
      file:
        description: '合同文件 '
        type: string
      idCardNumber:
        description: '房东身份证 '
        type: string
      landlordName:
        description: '房东姓名 '
        type: string
      lease:
        description: '租期月数 '
        type: integer
      phone:
        description: '房东手机号 '
        type: string
      pledge:
        description: '押金 '
        type: number
      rent:
        description: '租金 '
        type: number
      sheets:
        description: '底单 '
        items:
          type: string
        type: array
      startTime:
        description: '租期开始时间 '
        type: string
    required:
    - area
    - bankNumber
    - electricity
    - electricityPledge
    - endTime
    - file
    - idCardNumber
    - landlordName
    - lease
    - phone
    - pledge
    - rent
    - sheets
    - startTime
    type: object
  model.BranchCreateReq:
    properties:
      address:
        description: '详细地址 '
        type: string
      cityId:
        description: '城市 '
        type: integer
      contracts:
        items:
          $ref: '#/definitions/model.BranchContract'
        type: array
      lat:
        description: '纬度 '
        type: number
      lng:
        description: '经度 '
        type: number
      name:
        description: '网点名称 '
        type: string
      photos:
        description: '网点照片 '
        items:
          type: string
        type: array
    required:
    - address
    - cityId
    - lat
    - lng
    - name
    - photos
    type: object
  model.BranchFacility:
    properties:
      fid:
        description: 设施标识
        type: string
      id:
        type: integer
      name:
        description: 名称
        type: string
      num:
        description: 满电数量
        type: integer
      state:
        description: 状态 0不可用 1可用
        type: integer
      total:
        description: 总电池
        type: integer
      type:
        description: 类别
        type: string
    type: object
  model.BranchItem:
    properties:
      address:
        description: 地址
        type: string
      city:
        $ref: '#/definitions/model.City'
        description: 城市
      contracts:
        description: 合同
        items:
          $ref: '#/definitions/model.BranchContract'
        type: array
      id:
        type: integer
      lat:
        description: 纬度
        type: number
      lng:
        description: 经度
        type: number
      name:
        description: 名称
        type: string
      photos:
        description: 照片
        items:
          type: string
        type: array
      storeTotal:
        description: 门店数量
        type: integer
      v60Total:
        description: V60电柜数量
        type: integer
      v72Total:
        description: V72电柜数量
        type: integer
    type: object
  model.BranchModifyReq:
    properties:
      address:
        description: '详细地址 '
        type: string
      cityId:
        description: '城市 '
        type: integer
      contracts:
        items:
          $ref: '#/definitions/model.BranchContract'
        type: array
      lat:
        description: '纬度 '
        type: number
      lng:
        description: '经度 '
        type: number
      name:
        description: '网点名称 '
        type: string
      photos:
        description: '网点照片 '
        items:
          type: string
        type: array
    type: object
  model.BranchRidingRes:
    properties:
      minutes:
        description: 骑行规划时间(分钟)
        type: integer
    type: object
  model.BranchSampleItem:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  model.BranchWithDistanceRes:
    properties:
      address:
        type: string
      distance:
        type: number
      facility:
        items:
          $ref: '#/definitions/model.BranchFacility'
        type: array
      id:
        type: integer
      image:
        type: string
      lat:
        type: number
      lng:
        type: number
      name:
        type: string
    type: object
  model.CabinetBin:
    properties:
      battery:
        description: 是否有电池
        type: boolean
      batterySN:
        description: 电池序列号
        type: string
      chargerErrors:
        description: 故障信息
        items:
          type: string
        type: array
      current:
        description: 充电电流(A)
        type: number
      doorHealth:
        description: 是否锁仓 (柜门是否正常)
        type: boolean
      electricity:
        description: 当前电量
        type: number
      full:
        description: 是否满电
        type: boolean
      name:
        description: 柜门名称
        type: string
      openStatus:
        description: 是否开门
        type: boolean
      remark:
        description: 备注
        type: string
      voltage:
        description: 电压(V)
        type: number
    type: object
  model.CabinetCreateReq:
    properties:
      branchId:
        description: 网点
        type: integer
      brand:
        description: 品牌 KAIXIN(凯信) YUNDONG(云动)
        enum:
        - KAIXIN
        - YUNDONG
        type: string
      doors:
        description: '柜门数量 '
        type: integer
      models:
        description: '电池型号 '
        items:
          type: integer
        type: array
      name:
        description: '电柜名称 '
        type: string
      remark:
        description: '备注 '
        type: string
      serial:
        description: '电柜原始编码 '
        type: string
      status:
        description: 电柜状态 0未投放 1运营中 2维护中
        enum:
        - 0
        - 1
        - 2
        type: integer
    required:
    - brand
    - doors
    - models
    - name
    - serial
    type: object
  model.CabinetDetailRes:
    properties:
      bins:
        description: 仓位信息
        items:
          $ref: '#/definitions/model.CabinetBin'
        type: array
      branchId:
        description: 网点
        type: integer
      brand:
        description: 品牌 KAIXIN(凯信) YUNDONG(云动)
        enum:
        - KAIXIN
        - YUNDONG
        type: string
      city:
        $ref: '#/definitions/model.City'
        description: 城市
      createdAt:
        description: 创建时间
        type: string
      doors:
        description: '柜门数量 '
        type: integer
      id:
        description: 电柜ID
        type: integer
      models:
        description: 电池型号
        items:
          $ref: '#/definitions/model.BatteryModel'
        type: array
      name:
        description: '电柜名称 '
        type: string
      remark:
        description: '备注 '
        type: string
      serial:
        description: '电柜原始编码 '
        type: string
      sn:
        description: 平台编码
        type: string
      status:
        description: 电柜状态 0未投放 1运营中 2维护中
        enum:
        - 0
        - 1
        - 2
        type: integer
    required:
    - brand
    - doors
    - name
    - serial
    type: object
  model.CabinetDoorOperateReq:
    properties:
      id:
        description: 电柜ID
        type: integer
      index:
        description: 仓门index
        type: integer
      operation:
        description: 操作方式 1:开仓 2:锁定(标记为故障) 3:解锁(取消标记故障)
        type: integer
      phone:
        description: 骑手手机号
        type: string
      remark:
        description: 操作原因
        type: string
    required:
    - id
    - index
    - operation
    type: object
  model.CabinetFaultCabinet:
    properties:
      brand:
        description: 电柜品牌
        type: string
      id:
        description: 电柜ID
        type: integer
      models:
        description: 电池型号
        items:
          $ref: '#/definitions/model.BatteryModel'
        type: array
      name:
        description: 电柜名称
        type: string
      serial:
        description: 电柜编号
        type: string
    type: object
  model.CabinetFaultDealReq:
    properties:
      remark:
        description: '备注 '
        type: string
      status:
        description: 故障状态 0未处理 1已处理
        enum:
        - 0
        - 1
        maximum: 1
        minimum: 0
        type: integer
    required:
    - status
    type: object
  model.CabinetFaultItem:
    properties:
      attachments:
        description: 故障附件
        items:
          type: string
        type: array
      cabinet:
        $ref: '#/definitions/model.CabinetFaultCabinet'
        description: 电柜信息
      city:
        $ref: '#/definitions/model.City'
        description: 城市信息
      createdAt:
        description: 提交时间
        type: string
      description:
        description: 故障描述
        type: string
      fault:
        description: 故障原因
        type: string
      id:
        description: 故障ID
        type: integer
      rider:
        $ref: '#/definitions/model.RiderSampleInfo'
        description: 骑手信息
      status:
        description: 故障状态 0未处理 1已处理
        type: integer
    type: object
  model.CabinetFaultReportReq:
    properties:
      attachments:
        description: 附件
        items:
          type: string
        maxItems: 3
        type: array
      cabinetId:
        description: '电柜ID '
        type: integer
      description:
        description: '故障描述 '
        type: string
      fault:
        description: '故障 '
        type: string
    required:
    - cabinetId
    - description
    - fault
    type: object
  model.CabinetItem:
    properties:
      branchId:
        description: 网点
        type: integer
      brand:
        description: 品牌 KAIXIN(凯信) YUNDONG(云动)
        enum:
        - KAIXIN
        - YUNDONG
        type: string
      city:
        $ref: '#/definitions/model.City'
        description: 城市
      createdAt:
        description: 创建时间
        type: string
      doors:
        description: '柜门数量 '
        type: integer
      id:
        description: 电柜ID
        type: integer
      models:
        description: 电池型号
        items:
          $ref: '#/definitions/model.BatteryModel'
        type: array
      name:
        description: '电柜名称 '
        type: string
      remark:
        description: '备注 '
        type: string
      serial:
        description: '电柜原始编码 '
        type: string
      sn:
        description: 平台编码
        type: string
      status:
        description: 电柜状态 0未投放 1运营中 2维护中
        enum:
        - 0
        - 1
        - 2
        type: integer
    required:
    - brand
    - doors
    - name
    - serial
    type: object
  model.City:
    properties:
      id:
        description: 城市ID
        type: integer
      name:
        description: 城市
        type: string
    type: object
  model.CityItem:
    properties:
      children:
        description: 城市列表
        items:
          $ref: '#/definitions/model.CityItem'
        type: array
      id:
        description: 城市或省份ID
        type: integer
      name:
        description: 城市/省份
        type: string
      open:
        description: 是否启用
        type: boolean
    type: object
  model.CityModifyReq:
    properties:
      open:
        description: '状态 '
        type: boolean
    required:
    - open
    type: object
  model.CityWithLocation:
    properties:
      id:
        description: 城市ID
        type: integer
      lat:
        description: 纬度
        type: number
      lng:
        description: 经度
        type: number
      name:
        description: 城市
        type: string
    type: object
  model.ContractSignReq:
    properties:
      planId:
        type: integer
    type: object
  model.ContractSignRes:
    properties:
      sn:
        description: 签署识别码
        type: string
      url:
        description: 签署URL
        type: string
    type: object
  model.EmployeeItem:
    properties:
      id:
        type: integer
      name:
        description: 店员名称
        type: string
      phone:
        description: 店员电话
        type: string
    type: object
  model.EnterpriseItem:
    properties:
      id:
        description: 企业ID
        type: integer
      name:
        description: 企业名称
        type: string
    type: object
  model.FaceAuthUrlResponse:
    properties:
      url:
        description: 实名认证跳转链接
        type: string
    type: object
  model.IDPostReq:
    properties:
      id:
        type: integer
    required:
    - id
    type: object
  model.ItemListRes:
    properties:
      items:
        items: {}
        type: array
    type: object
  model.ItemRes:
    properties:
      item: {}
    type: object
  model.ManagerSigninRes:
    properties:
      id:
        type: integer
      name:
        type: string
      phone:
        type: string
      token:
        type: string
    type: object
  model.Pagination:
    properties:
      current:
        description: 当前页
        type: integer
      pages:
        description: 总页数
        type: integer
      total:
        description: 总条数
        type: integer
    type: object
  model.PaginationRes:
    properties:
      items:
        description: 返回数据
      pagination:
        $ref: '#/definitions/model.Pagination'
        description: 分页属性
    type: object
  model.PersonBanReq:
    properties:
      ban:
        description: '`true`封禁 `false`解封'
        type: boolean
      id:
        description: 骑手ID
        type: integer
    type: object
  model.PlanEnableModifyReq:
    properties:
      enable:
        description: 启用或禁用
        type: boolean
    required:
    - enable
    type: object
  model.PlanItemRes:
    properties:
      cities:
        items:
          $ref: '#/definitions/model.City'
        type: array
      commission:
        description: 提成
        type: number
      days:
        description: '有效天数 '
        minimum: 1
        type: integer
      enable:
        description: 是否启用
        type: boolean
      end:
        description: '结束日期 '
        type: string
      id:
        type: integer
      models:
        items:
          $ref: '#/definitions/model.BatteryModel'
        type: array
      name:
        description: '骑士卡名称 '
        type: string
      price:
        description: '价格 '
        type: number
      start:
        description: '开始日期 '
        type: string
    required:
    - days
    - end
    - name
    - price
    - start
    type: object
  model.RiderBlockReq:
    properties:
      block:
        description: '`true`封禁 `false`解封'
        type: boolean
      id:
        description: 骑手ID
        type: integer
    type: object
  model.RiderContact:
    properties:
      name:
        description: '联系人姓名 '
        type: string
      phone:
        description: '联系人电话 '
        type: string
      relation:
        description: '关系 '
        type: string
    required:
    - name
    - phone
    - relation
    type: object
  model.RiderItem:
    properties:
      deposit:
        description: 押金
        type: number
      enterprise:
        $ref: '#/definitions/model.EnterpriseItem'
        description: 团签企业信息, 若无此字段则为个签用户
      id:
        type: integer
      idCardNumber:
        description: 身份证
        type: string
      name:
        description: 用户姓名
        type: string
      phone:
        description: 手机号
        type: string
      status:
        description: 用户状态 0:未使用 1:未开通 2:计费中 3:寄存中 4:已过期 5:暂停中 6:已退租 7:已欠费 8:未认证 9:未办理
          10:即将到期 11:已禁用 12:黑名单
        type: integer
      userPlan:
        $ref: '#/definitions/model.UserPlanItem'
        description: 当前有效骑士卡, 若无此字段则代表当前无有效骑士卡
    type: object
  model.RiderSampleInfo:
    properties:
      id:
        description: 骑手ID
        type: integer
      name:
        description: 骑手姓名
        type: string
      phone:
        description: 骑手电话
        type: string
    type: object
  model.RiderSignupReq:
    properties:
      cityId:
        type: integer
      phone:
        description: '电话 '
        type: string
      smsCode:
        description: '短信验证码 '
        type: string
      smsId:
        description: '短信ID '
        type: string
    required:
    - phone
    - smsCode
    - smsId
    type: object
  model.ShiguangjuIVRItem:
    properties:
      name:
        description: 姓名
        type: string
      phone:
        description: 手机号
        type: string
      product:
        description: 套餐
        type: string
      status:
        description: 外呼状态
        type: boolean
    type: object
  model.ShiguangjuIVRRes:
    properties:
      items:
        items:
          $ref: '#/definitions/model.ShiguangjuIVRItem'
        type: array
    type: object
  model.SmsReq:
    properties:
      captchaCode:
        description: captcha 验证码
        type: string
      phone:
        description: 手机号
        type: string
    required:
    - captchaCode
    - phone
    type: object
  model.SmsRes:
    properties:
      id:
        description: 任务ID
        type: string
    type: object
  model.StatusResponse:
    properties:
      status:
        type: boolean
    type: object
  model.StoreCreateReq:
    properties:
      branchId:
        description: '网点 '
        type: integer
      name:
        description: '门店名称 '
        type: string
      status:
        description: 门店状态 0维护 1营业 2休息 3隐藏
        enum:
        - 0
        - 1
        - 2
        - 3
        type: integer
    required:
    - branchId
    - name
    - status
    type: object
  model.StoreItem:
    properties:
      city:
        $ref: '#/definitions/model.City'
        description: 城市
      employee:
        $ref: '#/definitions/model.EmployeeItem'
        description: 店员, 有可能不存在
      id:
        type: integer
      name:
        description: 门店名称
        type: string
      status:
        description: 状态
        type: integer
    type: object
  model.StoreModifyReq:
    properties:
      branchId:
        description: '网点 '
        type: integer
      name:
        description: '门店名称 '
        type: string
      status:
        description: 门店状态 0维护 1营业 2休息 3隐藏
        enum:
        - 0
        - 1
        - 2
        - 3
        type: integer
    type: object
  model.UserPlanItem:
    properties:
      days:
        description: 剩余天数
        type: integer
      model:
        $ref: '#/definitions/model.BatteryModel'
        description: 电池型号
    type: object
info:
  contact: {}
  description: |-
    ### 说明
    接口采用非标准Restful API，所有http返回代码均为`200`，当返回为非`200`时应为network错误，需要及时排查。
    <br>
    接口返回说明查看 **[返回](#返回)**
    <br>
    图片/附件前缀 `https://cdn.auroraride.com/`

    ### 调试工具
    - [paw](/docs/api.paw)

    ### 认证
    项目接口使用简单认证，认证方式为`header`中添加对应的认证`token`
    |  header   |  类型  |  接口  |
    | :-----: | :----: | :--: |
    |  X-Rider-Token   |  string   |  骑手API  |
    | X-Manager-Token | string |  后台API  |
    |  X-Employee-Token   | string |  员工API  |

    ### 返回
    一个标准的返回应包含以下结构

    |  字段   |  类型  |  必填  |  说明  |
    | :-----: | :----: | :--: | :--: |
    |  code   |  int   |  是  |  返回代码  |
    | message | string |  是  |  返回消息  |
    |  data   | object |  是  |  返回数据  |

    `code`代码取值说明

    | 十进制 | 十六进制 | 说明 |
    | :----: | :------: | :--: |
    | 0  |  0x000  | 请求成功 |
    | 256 |  0x100  | 请求失败 |
    | 512 |  0x200  | *需要认证(跳转登录) |
    | 768 |  0x300  | *用户被封禁 |
    | 1024 |  0x400  | 资源未获 |
    | 1280 |  0x500  | 未知错误 |
    | 1536 |  0x600  | *需要实名 |
    | 1792 |  0x700  | *需要验证 (更换设备, 需要人脸验证) |
    | 2048 |  0x800  | *需要联系人 |
    | 2304 |  0x900  | 请求过期 |

    > 当返回值是`1792(0x700)需要人脸验证`或`1536(0x600)需要实名`的时候`data`返回值为`{"url": "string"}`, 直接跳转url


    比如：
    > 默认成功返回
    ```json
    {
      "code": 0,
      "message": "OK",
      "data": {
        "status": true
      }
    }
    ```
  title: 极光出行API
  version: "1.0"
paths:
  /commom/sms:
    post:
      consumes:
      - application/json
      description: 上传文件必须，单次获取有效时间为1个小时
      operationId: SendSmsCode
      parameters:
      - description: 请求参数
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.SmsReq'
      - description: Captcha验证码ID
        in: header
        name: X-Captcha-Id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.SmsRes'
      summary: C2.发送短信验证码
      tags:
      - '[C]公共接口'
  /common/captcha:
    get:
      consumes:
      - image/png
      description: 生成的图片验证码有效时间为10分钟
      operationId: CaptchaGenerate
      produces:
      - image/png
      responses:
        "200":
          description: ok
          headers:
            X-Captcha-Id:
              description: Captcha验证码ID
              type: string
          schema:
            type: string
      summary: C1.生成图片验证码
      tags:
      - '[C]公共接口'
  /common/oss/token:
    get:
      consumes:
      - application/json
      description: 上传文件必须，单次获取有效时间为1个小时
      operationId: AliyunOssToken
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.AliyunOssStsRes'
      summary: C3.获取阿里云oss临时凭证
      tags:
      - '[C]公共接口'
  /manager/v1/{id}/contract:
    post:
      consumes:
      - application/json
      operationId: BranchAddContract
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 合同数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.BranchContract'
      - description: 网点ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M30004 新增合同
      tags:
      - '[M]管理接口'
  /manager/v1/battery/model:
    get:
      consumes:
      - application/json
      operationId: BatteryModels
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.ItemListRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.BatteryModel'
                  type: array
              type: object
      summary: M40001 获取电池型号
      tags:
      - '[M]管理接口'
    post:
      consumes:
      - application/json
      operationId: BatteryCreateModel
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 电池型号数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.BatteryModelCreateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.ItemRes'
            - properties:
                item:
                  $ref: '#/definitions/model.BatteryModel'
              type: object
      summary: M40002 创建电池型号
      tags:
      - '[M]管理接口'
  /manager/v1/branch:
    get:
      consumes:
      - application/json
      operationId: BranchList
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.BranchItem'
                  type: array
              type: object
      summary: M30001 网点列表
      tags:
      - '[M]管理接口'
    post:
      consumes:
      - application/json
      operationId: BranchCreate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 网点数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.BranchCreateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M30002 新增网点
      tags:
      - '[M]管理接口'
  /manager/v1/branch/{id}:
    put:
      consumes:
      - application/json
      operationId: BranchModify
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 网点数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.BranchModifyReq'
      - description: 网点ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M30003 编辑网点
      tags:
      - '[M]管理接口'
  /manager/v1/branch/selector:
    get:
      consumes:
      - application/json
      operationId: BranchSelector
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.ItemListRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.BranchSampleItem'
                  type: array
              type: object
      summary: M30005 网点选择列表
      tags:
      - '[M]管理接口'
  /manager/v1/cabinet:
    get:
      consumes:
      - application/json
      operationId: CabinetQuery
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - in: query
        name: brand
        type: string
      - in: query
        name: cityId
        type: integer
      - description: 当前页, 从1开始, 默认1
        in: query
        name: current
        type: integer
      - in: query
        name: name
        type: string
      - description: 每页数据, 默认20
        in: query
        name: pageSize
        type: integer
      - in: query
        name: serial
        type: string
      - in: query
        name: status
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.CabinetItem'
                  type: array
              type: object
      summary: M50002 查询电柜
      tags:
      - '[M]管理接口'
    post:
      consumes:
      - application/json
      operationId: CabinetCreate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 电柜数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CabinetCreateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.ItemRes'
            - properties:
                item:
                  $ref: '#/definitions/model.CabinetItem'
              type: object
      summary: M50001 创建电柜
      tags:
      - '[M]管理接口'
  /manager/v1/cabinet/{id}:
    delete:
      consumes:
      - application/json
      operationId: CabinetDelete
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 电柜ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M50004 删除电柜
      tags:
      - '[M]管理接口'
    get:
      consumes:
      - application/json
      operationId: CabinetDetail
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 电柜ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.CabinetDetailRes'
      summary: M50005 获取并更新电柜详细信息
      tags:
      - '[M]管理接口'
    put:
      consumes:
      - application/json
      operationId: CabinetModify
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 电柜数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CabinetCreateReq'
      - description: 电柜ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M50003 编辑电柜
      tags:
      - '[M]管理接口'
  /manager/v1/cabinet/door-operate:
    post:
      consumes:
      - application/json
      operationId: CabinetDoorOperate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 柜门操作请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CabinetDoorOperateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M50006 柜门操作
      tags:
      - '[M]管理接口'
  /manager/v1/cabinet/fault:
    get:
      consumes:
      - application/json
      operationId: CabinetFault
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - in: query
        name: cabinetName
        type: string
      - in: query
        name: cityId
        type: integer
      - description: 当前页, 从1开始, 默认1
        in: query
        name: current
        type: integer
      - in: query
        name: end
        type: string
      - description: 每页数据, 默认20
        in: query
        name: pageSize
        type: integer
      - in: query
        name: serial
        type: string
      - in: query
        name: start
        type: string
      - in: query
        name: status
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.CabinetFaultItem'
                  type: array
              type: object
      summary: M50008 故障列表
      tags:
      - '[M]管理接口'
  /manager/v1/cabinet/reboot:
    post:
      consumes:
      - application/json
      operationId: CabinetReboot
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 重启请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.IDPostReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M50007 重启电柜
      tags:
      - '[M]管理接口'
  /manager/v1/city:
    get:
      consumes:
      - application/json
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 启用状态 0:全部 1:未启用 2:已启用
        in: query
        maximum: 2
        minimum: 0
        name: status
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            items:
              $ref: '#/definitions/model.CityItem'
            type: array
      summary: M20001 城市列表
      tags:
      - '[M]管理接口'
  /manager/v1/city/{id}:
    put:
      consumes:
      - application/json
      description: desc
      operationId: CityModify
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 城市ID
        in: path
        name: id
        required: true
        type: integer
      - description: 城市数据
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CityModifyReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M20002 修改城市
      tags:
      - '[M]管理接口'
  /manager/v1/csc/irv:
    post:
      consumes:
      - multipart/form-data
      operationId: CscIvrShiguangju
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 外呼文件
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.ShiguangjuIVRRes'
      summary: MT1001 时光驹催费工具
      tags:
      - '[M]管理接口'
  /manager/v1/fault/{id}:
    put:
      consumes:
      - application/json
      operationId: CabinetFaultDeal
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 故障ID
        in: path
        name: id
        required: true
        type: integer
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CabinetFaultDealReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M50009 处理故障
      tags:
      - '[M]管理接口'
  /manager/v1/plan:
    get:
      consumes:
      - application/json
      operationId: PlanList
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 城市ID
        in: query
        name: cityId
        type: integer
      - description: 当前页, 从1开始, 默认1
        in: query
        name: current
        type: integer
      - description: 启用状态
        in: query
        name: enable
        type: boolean
      - description: 骑士卡名称
        in: query
        name: name
        type: string
      - description: 每页数据, 默认20
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.PlanItemRes'
                  type: array
              type: object
      summary: M60004 列举骑士卡
      tags:
      - '[M]管理接口'
    post:
      consumes:
      - application/json
      operationId: PlanCreate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M60001 创建骑士卡
      tags:
      - '[M]管理接口'
  /manager/v1/plan/{id}:
    delete:
      consumes:
      - application/json
      operationId: PlanDelete
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 骑士卡ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M60003 删除骑士卡
      tags:
      - '[M]管理接口'
    put:
      consumes:
      - application/json
      operationId: PlanUpdateEnable
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 骑士卡ID
        in: path
        name: id
        required: true
        type: integer
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.PlanEnableModifyReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M60002 上下架骑士卡
      tags:
      - '[M]管理接口'
  /manager/v1/rider:
    get:
      consumes:
      - application/json
      operationId: RiderList
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 当前页, 从1开始, 默认1
        in: query
        name: current
        type: integer
      - description: '注册结束时间, 格式为: 2022-01-01'
        in: query
        name: end
        type: string
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - description: 是否被修改过
        in: query
        name: modified
        type: boolean
      - description: 每页数据, 默认20
        in: query
        name: pageSize
        type: integer
      - description: 骑士卡
        in: query
        name: planId
        type: integer
      - description: '注册开始时间, 格式为: 2022-01-01'
        in: query
        name: start
        type: string
      - description: 用户状态 0:未使用 1:未开通 2:计费中 3:寄存中 4:已过期 5:暂停中 6:已退租 7:已欠费 8:未认证 9:未办理
          10:即将到期 11:已禁用 12:黑名单
        in: query
        name: status
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.RiderItem'
                  type: array
              type: object
      summary: M70001 列举骑手
      tags:
      - '[M]管理接口'
  /manager/v1/rider/ban:
    post:
      consumes:
      - application/json
      operationId: RiderBan
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.PersonBanReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M70002 封禁/解除封禁身份
      tags:
      - '[M]管理接口'
  /manager/v1/rider/block:
    post:
      consumes:
      - application/json
      operationId: RiderBlock
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.RiderBlockReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M70003 封禁/解除封禁骑手账户
      tags:
      - '[M]管理接口'
  /manager/v1/store:
    get:
      consumes:
      - application/json
      operationId: StoreList
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 城市
        in: query
        name: cityId
        type: integer
      - description: 当前页, 从1开始, 默认1
        in: query
        name: current
        type: integer
      - description: 门店名称
        in: query
        name: name
        type: string
      - description: 每页数据, 默认20
        in: query
        name: pageSize
        type: integer
      - description: 门店状态
        in: query
        name: status
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            allOf:
            - $ref: '#/definitions/model.PaginationRes'
            - properties:
                items:
                  items:
                    $ref: '#/definitions/model.StoreItem'
                  type: array
              type: object
      summary: M30006 列举门店
      tags:
      - '[M]管理接口'
    post:
      consumes:
      - application/json
      operationId: StoreCreate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.StoreCreateReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StoreItem'
      summary: M30007 创建门店
      tags:
      - '[M]管理接口'
  /manager/v1/store/{id}:
    delete:
      consumes:
      - application/json
      operationId: StoreDelete
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 门店ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M30009 删除门店
      tags:
      - '[M]管理接口'
    put:
      consumes:
      - application/json
      operationId: StoreModify
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      - description: 门店ID
        in: path
        name: id
        required: true
        type: integer
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.StoreModifyReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StoreItem'
      summary: M30008 修改门店
      tags:
      - '[M]管理接口'
  /manager/v1/user:
    post:
      consumes:
      - application/json
      operationId: ManagerCreate
      parameters:
      - description: 管理员校验token
        in: header
        name: X-Manager-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: M10002 新增管理员
      tags:
      - '[M]管理接口'
  /manager/v1/user/signin:
    post:
      consumes:
      - application/json
      description: 管理员登录
      operationId: ManagerSignin
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.ManagerSigninRes'
      summary: M10001 用户登录
      tags:
      - '[M]管理接口'
  /rider/v1/authenticator:
    post:
      consumes:
      - application/json
      operationId: RiderAuthenticator
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.RiderContact'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.FaceAuthUrlResponse'
      summary: R10003 实名认证
      tags:
      - '[R]骑手接口'
  /rider/v1/authenticator/{token}:
    get:
      consumes:
      - application/json
      operationId: RiderAuthResult
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: 实名认证token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: R10004 实名认证结果
      tags:
      - '[R]骑手接口'
  /rider/v1/branch:
    get:
      consumes:
      - application/json
      operationId: RiderBranchList
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: '城市ID '
        in: query
        name: cityId
        type: integer
      - description: '距离 '
        in: query
        name: distance
        type: number
      - description: '纬度 '
        in: query
        name: lat
        required: true
        type: number
      - description: '经度 '
        in: query
        name: lng
        required: true
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            items:
              $ref: '#/definitions/model.BranchWithDistanceRes'
            type: array
      summary: R20001 列举网点
      tags:
      - '[R]骑手接口'
  /rider/v1/branch/riding:
    get:
      consumes:
      - application/json
      operationId: RiderBranchRiding
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: '结束坐标 '
        in: query
        name: destination
        type: string
      - description: '开始坐标 '
        in: query
        name: origin
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.BranchRidingRes'
      summary: R20002 网点骑行规划时间
      tags:
      - '[R]骑手接口'
  /rider/v1/city:
    get:
      consumes:
      - application/json
      operationId: RiderCityList
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            items:
              $ref: '#/definitions/model.CityWithLocation'
            type: array
      summary: R20003 获取已开通城市
      tags:
      - '[R]骑手接口'
  /rider/v1/contact:
    post:
      consumes:
      - application/json
      operationId: RiderContact
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.RiderContact'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: R10002 添加紧急联系人
      tags:
      - '[R]骑手接口'
  /rider/v1/contract/sign:
    post:
      consumes:
      - application/json
      operationId: RiderContractSign
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.ContractSignReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.ContractSignRes'
      summary: R30005 签署合同
      tags:
      - '[R]骑手接口'
  /rider/v1/face/{token}:
    get:
      consumes:
      - application/json
      operationId: RiderFaceResult
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: 人脸校验token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: R10005 获取人脸校验结果
      tags:
      - '[R]骑手接口'
  /rider/v1/path:
    get:
      consumes:
      - application/json
      operationId: CabinetReport
      parameters:
      - description: 骑手校验token
        in: header
        name: X-Rider-Token
        required: true
        type: string
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CabinetFaultReportReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: R30001 电柜故障上报
      tags:
      - '[R]骑手接口'
  /rider/v1/signin:
    post:
      consumes:
      - application/json
      operationId: RiderSignin
      parameters:
      - description: desc
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.RiderSignupReq'
      produces:
      - application/json
      responses:
        "200":
          description: 请求成功
          schema:
            $ref: '#/definitions/model.StatusResponse'
      summary: R10001 登录或注册
      tags:
      - '[R]骑手接口'
swagger: "2.0"
